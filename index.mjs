// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-error@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-copy@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-inherit@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-property@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-accessor@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-write-accessor@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/random-base-minstd@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/buffer-from-string@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-next-tick@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-number@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";function j(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})})),t}var v="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function y(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}var _=y,x=w;function T(e){if(_===setTimeout)return setTimeout(e,0);if((_===y||!_)&&setTimeout)return _=setTimeout,setTimeout(e,0);try{return _(e,0)}catch(t){try{return _.call(null,e,0)}catch(t){return _.call(this,e,0)}}}"function"==typeof v.setTimeout&&(_=setTimeout),"function"==typeof v.clearTimeout&&(x=clearTimeout);var M,E=[],O=!1,z=-1;function k(){O&&M&&(O=!1,M.length?E=M.concat(E):z=-1,E.length&&P())}function P(){if(!O){var e=T(k);O=!0;for(var t=E.length;t;){for(M=E,E=[];++z<t;)M&&M[z].run();z=-1,t=E.length}M=null,O=!1,function(e){if(x===clearTimeout)return clearTimeout(e);if((x===w||!x)&&clearTimeout)return x=clearTimeout,clearTimeout(e);try{x(e)}catch(t){try{return x.call(null,e)}catch(t){return x.call(this,e)}}}(e)}}function L(e,t){this.fun=e,this.array=t}L.prototype.run=function(){this.fun.apply(null,this.array)};function W(){}var q=W,D=W,R=W,S=W,A=W,N=W,V=W;var C=v.performance||{},J=C.now||C.mozNow||C.msNow||C.oNow||C.webkitNow||function(){return(new Date).getTime()};var B=new Date;var F={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];E.push(new L(e,t)),1!==E.length||O||T(P)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:q,addListener:D,once:R,off:S,removeListener:A,removeAllListeners:N,emit:V,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*J.call(C),r=Math.floor(t),i=Math.floor(t%1*1e9);return e&&(r-=e[0],(i-=e[1])<0&&(r--,i+=1e9)),[r,i]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-B)/1e3}},G=require("stream");"disable"===F.env.READABLE_STREAM&&G?(module.exports=G,exports=module.exports=G.Readable,exports.Readable=G.Readable,exports.Writable=G.Writable,exports.Duplex=G.Duplex,exports.Transform=G.Transform,exports.PassThrough=G.PassThrough,exports.Stream=G):(exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=G||exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"));var I=j(Object.freeze({__proto__:null})),H={objectMode:!1,encoding:null,sep:"\n",copy:!0,siter:1e308,normalized:!1},K=p,Q=m,U=u.isPrimitive,X=h.isPrimitive,Y=c.isPrimitive,Z=f.isPrimitive,$=g.isPrimitive,ee=b;var te=function(e,t){return K(t)?Q(t,"sep")&&(e.sep=t.sep,!Y(e.sep))?new TypeError(ee("invalid option. `%s` option must be a string. Option: `%s`.","sep",e.sep)):Q(t,"objectMode")&&(e.objectMode=t.objectMode,!U(e.objectMode))?new TypeError(ee("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",e.objectMode)):Q(t,"encoding")&&(e.encoding=t.encoding,!Y(e.encoding)&&null!==e.encoding)?new TypeError(ee("invalid option. `%s` option must be a string or null. Option: `%s`.","encoding",e.encoding)):Q(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!X(e.highWaterMark))?new TypeError(ee("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","highWaterMark",e.highWaterMark)):Q(t,"iter")&&(e.iter=t.iter,!$(e.iter))?new TypeError(ee("invalid option. `%s` option must be a nonnegative integer. Option: `%s`.","iter",e.iter)):Q(t,"siter")&&(e.siter=t.siter,!Z(e.siter))?new TypeError(ee("invalid option. `%s` option must be a positive integer. Option: `%s`.","siter",e.siter)):Q(t,"normalized")&&(e.normalized=t.normalized,!U(e.normalized))?new TypeError(ee("invalid option. `%s` option must be a boolean. Option: `%s`.","normalized",e.normalized)):(Q(t,"seed")&&(e.seed=t.seed),Q(t,"state")&&(e.state=t.state),Q(t,"copy")&&(e.copy=t.copy),null):new TypeError(ee("invalid argument. Options argument must be an object. Value: `%s`.",t))};module.exports=void 0!==F&&"renderer"===F.type?require("./browser.js"):require("./node.js");var re=j(Object.freeze({__proto__:null}))("random:streams:minstd"),ie=I.Readable,ne=t,se=r,oe=i,ae=n,de=e,le=s,pe=o,me=a.factory,ue=d,he=l,ce=H,fe=te,ge=re;function be(e){var t,r,i;if(!(this instanceof be))return arguments.length>0?new be(e):new be;if(r=se(ce),arguments.length>0&&(i=fe(r,e)))throw i;return ge("Creating a readable stream configured with the following options: %s.",JSON.stringify(r)),ie.call(this,r),ae(this,"_destroyed",!1),de(this,"_objectMode",r.objectMode),de(this,"_sep",r.sep),de(this,"_iter",r.iter),de(this,"_siter",r.siter),ae(this,"_i",0),t=me(r),r.normalized&&(t=t.normalized),de(this,"_prng",t),this}oe(be,ie),le(be.prototype,"seed",(function(){return this._prng.seed})),le(be.prototype,"seedLength",(function(){return this._prng.seedLength})),pe(be.prototype,"state",(function(){return this._prng.state}),(function(e){this._prng.state=e})),le(be.prototype,"stateLength",(function(){return this._prng.stateLength})),le(be.prototype,"byteLength",(function(){return this._prng.byteLength})),de(be.prototype,"_read",(function(){var e,t;if(!this._destroyed)for(e=!0;e;){if(this._i+=1,this._i>this._iter)return ge("Finished generating pseudorandom numbers."),this.push(null);t=this._prng(),ge("Generated a new pseudorandom number. Value: %d. Iter: %d.",t,this._i),!1===this._objectMode&&(t=t.toString(),t=1===this._i?ue(t):ue(this._sep+t)),e=this.push(t),this._i%this._siter==0&&this.emit("state",this.state)}})),de(be.prototype,"destroy",(function(e){var t;return this._destroyed?(ge("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,he((function(){e&&(ge("Stream was destroyed due to an error. Error: %s.",ne(e)?e.message:JSON.stringify(e)),t.emit("error",e));ge("Closing the stream..."),t.emit("close")})),this)}));var je=p,ve=r,ye=b,we=be;var _e=r,xe=be;var Te=e,Me=be,Ee=function(e){var t;if(arguments.length>0){if(!je(t=e))throw new TypeError(ye("invalid argument. Options argument must be an object. Value: `%s`.",t));t=ve(e,1)}else t={};return t.objectMode=!0,new we(t)},Oe=function(e){var t;return t=arguments.length>0?_e(e,1):{},r;function r(){return new xe(t)}};Te(Me,"objectMode",Ee),Te(Me,"factory",Oe);var ze=Me;export{ze as default,Oe as factory,Ee as objectMode};
//# sourceMappingURL=index.mjs.map
